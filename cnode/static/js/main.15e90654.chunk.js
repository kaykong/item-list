(this.webpackJsonpmyCnode=this.webpackJsonpmyCnode||[]).push([[0],{104:function(e,t,a){},167:function(e,t,a){},185:function(e,t,a){},204:function(e,t,a){},208:function(e,t,a){},220:function(e,t,a){},221:function(e,t,a){},222:function(e,t,a){},235:function(e,t,a){},236:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a(27),c=a.n(s),o=a(249),i=(a(166),a(20)),r=a(21),l=a(23),d=a(22),j=(a(167),a(68)),h=a(29),u=a.n(h),p=(a(185),a(109)),b=a(250),m=a(101),g=a(253),O="https://cnodejs.org/api/v1",v=a(159),x=a(112),f=a(248),N=a(61),k=a(246),y=a(245),C=a(71),w=a.n(C),S=a(141),_=a.n(S),I=a(3),R=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={searchClickStyle:null,userInfo:null,visible:!1,loading:!1,unReadMessageCount:0},e.changeSearchStyle=function(){null===e.state.searchClickStyle?e.setState({searchClickStyle:{backgroundColor:"#fff"}}):e.setState({searchClickStyle:null})},e.searchInputKeyUp=function(t){if("Enter"===t.key){var a=t.target.value;e.search(a)}},e.searchIconClick=function(){e.search(e.searchValue.value)},e.search=function(e){e&&""!==e.trim()&&(e=e.trim(),window.open("https://www.baidu.com/s?wd=site:cnodejs.org "+e))},e.loginBtnClick=function(){e.state.visible||e.setState({visible:!0})},e.loginOut=function(){window.localStorage.removeItem("cnode-token"),window.localStorage.removeItem("cnode-userInfo"),e.setState({userInfo:null,unReadMessageCount:0})},e.handleCancel=function(){e.setState({visible:!1})},e.handleOk=function(t){console.log("handleOk",t),console.log("handleOk-input",e.tokenInput),e.setState({loading:!0});var a=Object(j.a)(e),n="";if(!e.tokenInput||""===e.tokenInput.trim())return e.setState({loading:!1}),!1;n=e.tokenInput.trim(),u.a.post(O+"/accesstoken",{accesstoken:n}).then((function(e){e.data&&e.data.success&&(a.setState({userInfo:e.data,loading:!1,visible:!1}),window.localStorage.setItem("cnode-userInfo",JSON.stringify(e.data)),window.localStorage.setItem("cnode-token",n))})).catch((function(e){alert("Access Token \u9519\u8bef"),console.log("header-componentDidMount-Axios-catch",e),a.setState({loading:!1})})),u.a.get(O+"/message/count",{params:{accesstoken:n}}).then((function(e){e.data&&e.data.success&&a.setState({unReadMessageCount:e.data.data})})).catch((function(e){a.setState({loading:!1})}))},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=window.localStorage.getItem("cnode-token");null!=t&&(u.a.post(O+"/accesstoken",{accesstoken:t}).then((function(t){t.data&&t.data.success&&(e.setState({userInfo:t.data}),window.localStorage.setItem("cnode-userInfo",JSON.stringify(t.data)))})).catch((function(e){alert(e),console.log("header-componentDidMount-Axios-catch",e)})),u.a.get(O+"/message/count",{params:{accesstoken:t}}).then((function(t){t.data&&t.data.success&&e.setState({unReadMessageCount:t.data.data})})))}},{key:"render",value:function(){var e=this,t=this.state,a=t.userInfo,n=t.visible,s=t.loading,c=t.unReadMessageCount;return Object(I.jsxs)("div",{className:"headerWrap",children:[Object(I.jsxs)("div",{className:"header",children:[Object(I.jsx)(p.a,{to:"/index",children:Object(I.jsx)("div",{className:"logo",children:Object(I.jsx)("span",{children:"cNode"})})}),Object(I.jsx)(b.a,{to:"/index",activeClassName:"nav-active",className:"nav",children:Object(I.jsx)("span",{children:"\u9996\u9875"})}),Object(I.jsx)(b.a,{to:"/book",activeClassName:"nav-active",className:"nav",children:Object(I.jsx)("span",{children:"\u6559\u7a0b"})}),Object(I.jsx)(b.a,{to:"/about",activeClassName:"nav-active",className:"nav",children:Object(I.jsx)("span",{children:"\u5173\u4e8e"})}),Object(I.jsxs)("div",{className:"search",style:this.state.searchClickStyle,children:[Object(I.jsx)("input",{type:"text",onFocus:this.changeSearchStyle,onBlur:this.changeSearchStyle,onKeyUp:this.searchInputKeyUp,ref:function(t){return e.searchValue=t}}),Object(I.jsx)(m.a,{className:"icon",onClick:this.searchIconClick})]}),a&&a.success?Object(I.jsxs)("div",{children:[Object(I.jsx)("div",{className:"avatar",children:Object(I.jsx)(v.a,{placement:"bottom",content:Object(I.jsxs)("div",{className:"header-user-menu",children:[Object(I.jsxs)("div",{className:"header-user-menu-item",children:[Object(I.jsx)(w.a,{}),Object(I.jsx)("span",{children:Object(I.jsx)(p.a,{to:"/user/create/"+a.loginname,target:"_blank",children:"\u6211\u7684\u4e3b\u9875"})})]}),Object(I.jsxs)("div",{className:"header-user-menu-item",onClick:this.loginOut,children:[Object(I.jsx)(_.a,{}),Object(I.jsx)("span",{children:"\u9000\u51fa"})]})]}),trigger:"hover",overlayStyle:{paddingLeft:"0",paddingRight:"0"},children:Object(I.jsx)(x.a,{src:a.avatar_url,shape:"square"})})}),Object(I.jsx)("div",{className:"message",title:"\u672a\u8bfb\u6d88\u606f",style:{cursor:"pointer"},children:Object(I.jsx)(f.a,{count:c,size:"small",children:Object(I.jsx)(g.a,{style:{fontSize:"24px",color:"#8590a6"}})})})]}):Object(I.jsx)("div",{className:"login-btn",children:Object(I.jsx)(N.a,{size:"middle",type:"primary",onClick:this.loginBtnClick,children:"\u767b\u5f55"})})]}),n?Object(I.jsxs)(k.a,{visible:n,title:"\u767b\u5f55",onOk:this.handleOk,onCancel:this.handleCancel,footer:[Object(I.jsx)(N.a,{onClick:this.handleCancel,children:"\u53d6\u6d88"},"back"),Object(I.jsx)(N.a,{type:"primary",loading:s,onClick:this.handleOk,children:"\u786e\u8ba4"},"submit")],children:[Object(I.jsxs)("p",{children:[Object(I.jsx)("a",{href:"https://cnodejs.org/",target:"_blank",children:"\u8fdb\u5165 cNode"})," \u767b\u5f55 -> \u8bbe\u7f6e -> Access Token -> \u590d\u5236\u5b57\u7b26\u4e32"]}),Object(I.jsx)(y.a,{placeholder:"316c33ef-78a4-41b7-866b-f88088888888",onChange:function(t){return e.tokenInput=t.target.value},onPressEnter:this.handleOk})]}):""]})}}]),a}(n.Component),M=a(241),D=a(139),U=a(252),A=(a(104),a(46)),B=a.n(A),z=a(75),T=a(111),L=(a(204),a(251)),H=a(160),Y=a(143),q=a.n(Y),E=a(144),F=a.n(E),J=a(57),W=a.n(J),K=(a(130),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props;if(null==e)return null;var t=[];switch(!0===e.top&&t.push("\u7f6e\u9876"),1==e.good&&t.push("\u7cbe\u534e"),e.tab){case"share":t.push("\u5206\u4eab");break;case"ask":t.push("\u95ee\u7b54")}return Object(I.jsxs)("div",{className:"index-item",children:[Object(I.jsx)(p.a,{to:"/user/create/"+e.author.loginname,target:"_blank",children:Object(I.jsxs)("div",{className:"author-info",children:[Object(I.jsx)(x.a,{src:e.author.avatar_url,icon:Object(I.jsx)(w.a,{}),shape:"square"}),Object(I.jsx)("div",{className:"login-name",children:e.author.loginname})]})}),Object(I.jsx)(p.a,{to:"/topic/"+e.id,target:"_self",children:Object(I.jsx)("div",{className:"title",children:e.title})}),Object(I.jsxs)("div",{className:"count-info",children:[Object(I.jsx)(q.a,{title:"\u6d4f\u89c8\u91cf"}),Object(I.jsx)("span",{title:"\u6d4f\u89c8\u91cf",className:"num",children:e.visit_count}),Object(I.jsx)(F.a,{title:"\u56de\u590d\u6570"}),Object(I.jsx)("span",{title:"\u56de\u590d\u6570",className:"num",children:e.reply_count}),t.map((function(e){return"\u7f6e\u9876"===e||"\u7cbe\u534e"===e?Object(I.jsx)(L.a,{color:"#2A7FFF",children:e},e):Object(I.jsx)(L.a,{children:e},e)})),Object(I.jsx)("div",{className:"time",children:Object(I.jsx)(H.a,{title:"\u6700\u8fd1\u56de\u590d: "+W()(e.last_reply_at).format("YYYY-MM-DD HH:mm:ss"),color:"#1890FF",children:Object(I.jsx)("span",{children:W()(e.last_reply_at).fromNow()})})})]})]})}}]),a}(n.Component)),P=a(145),V=(a(208),a(148)),G=a.n(V),Q=a(147),X=a.n(Q),Z=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={dataResult:[],page:1,tab:"all",loading:!0},e.loadMore=function(){var t,a=e.state,n=a.page,s=a.dataResult,c=e.props.location.pathname.split("/");t=c[c.length-1];var o=Object(j.a)(e);o.setState({loading:!0}),u.a.get(O+"/topics?tab="+t+"&limit=20&page="+n).then((function(e){null!==e.data.data&&o.setState({dataResult:[].concat(Object(T.a)(s),Object(T.a)(e.data.data)),loading:!1,page:n+1})})).catch((function(e){console.log("topics-error",e)}))},e}return Object(r.a)(a,[{key:"handleScroll",value:function(){var e=this.container;console.log("\u6eda\u52a8\u4e86",e.scrollTop)}},{key:"componentDidMount",value:function(){var e;console.log("componentDidMount",this.props),console.log("this.container",this.container),console.log("this.current",this.current),console.log("this.",this);var t=this.state.page,a=this.props.location.pathname.split("/");e=a[a.length-1];var n=this;u.a.get(O+"/topics?tab="+e+"&limit=20&page="+t).then((function(e){null!==e.data.data&&n.setState({dataResult:e.data.data,loading:!1,page:t+1})})).catch((function(e){console.log("topics-error",e)})),this.setState({dataResult:[]})}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.dataResult;return a&&0===n.length?Object(I.jsx)("div",{className:"loading-div",children:Object(I.jsx)(P.a,{size:"large",className:"loading"})}):(console.log("IndexList-render",this.props),Object(I.jsxs)("div",{ref:function(t){return e.container=t},onScroll:this.handleScroll,children:[n.map((function(e){return Object(I.jsx)(K,Object(z.a)({},e),e.id)})),a?Object(I.jsx)("div",{className:"index-next-wrap",title:"\u70b9\u51fb\u52a0\u8f7d\u4e0b\u4e00\u9875",onClick:this.loadMore,children:Object(I.jsx)(X.a,{className:"next-icon"})}):Object(I.jsx)("div",{className:"index-next-wrap",title:"\u70b9\u51fb\u52a0\u8f7d\u4e0b\u4e00\u9875",onClick:this.loadMore,children:Object(I.jsx)(G.a,{className:"next-icon"})})]}))}}]),a}(n.Component),$=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return Object(I.jsxs)(M.a,{children:[Object(I.jsx)(B.a,{path:"/index/all",component:Z},"/index/all"),Object(I.jsx)(B.a,{path:"/index/good",component:Z},"/index/good"),Object(I.jsx)(B.a,{path:"/index/ask",component:Z},"/index/ask"),Object(I.jsx)(B.a,{path:"/index/share",component:Z},"/index/share"),Object(I.jsx)(B.a,{path:"/index/job",component:Z},"/index/job"),Object(I.jsx)(B.a,{path:"/index/dev",component:Z},"/index/test")]})}}]),a}(n.Component),ee=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return console.log(this.props),Object(I.jsx)("div",{className:"index-wrap",children:Object(I.jsxs)("div",{className:"main-container",children:[Object(I.jsxs)("div",{className:"content",children:[Object(I.jsxs)("div",{className:"nav-wrap",children:[Object(I.jsx)(b.a,{to:"/index/all",activeClassName:"nav-active",className:"nav",children:Object(I.jsx)("span",{children:"\u5168\u90e8"})}),Object(I.jsx)(b.a,{to:"/index/good",activeClassName:"nav-active",className:"nav",children:Object(I.jsx)("span",{children:"\u7cbe\u534e"})}),Object(I.jsx)(b.a,{to:"/index/ask",activeClassName:"nav-active",className:"nav",children:Object(I.jsx)("span",{children:"\u95ee\u9898"})}),Object(I.jsx)(b.a,{to:"/index/share",activeClassName:"nav-active",className:"nav",children:Object(I.jsx)("span",{children:"\u5206\u4eab"})}),Object(I.jsx)(b.a,{to:"/index/job",activeClassName:"nav-active",className:"nav",children:Object(I.jsx)("span",{children:"\u62db\u8058"})}),Object(I.jsx)(b.a,{to:"/index/dev",activeClassName:"nav-active",className:"nav",children:Object(I.jsx)("span",{children:"\u6d4b\u8bd5"})})]}),Object(I.jsx)($,{})]}),Object(I.jsx)("div",{className:"global-side-bar"})]})})}}]),a}(n.Component),te=[{title:"\u5173\u4e8e",content:'<p>CNode \u793e\u533a\u4e3a\u56fd\u5185\u6700\u5927\u6700\u5177\u5f71\u54cd\u529b\u7684 Node.js \u5f00\u6e90\u6280\u672f\u793e\u533a\uff0c\u81f4\u529b\u4e8e Node.js \u7684\u6280\u672f\u7814\u7a76\u3002</p>\n<p>CNode \u793e\u533a\u7531\u4e00\u6279\u70ed\u7231 Node.js \u6280\u672f\u7684\u5de5\u7a0b\u5e08\u53d1\u8d77\uff0c\u76ee\u524d\u5df2\u7ecf\u5438\u5f15\u4e86\u4e92\u8054\u7f51\u5404\u4e2a\u516c\u53f8\u7684\u4e13\u4e1a\u6280\u672f\u4eba\u5458\u52a0\u5165\uff0c\u6211\u4eec\u975e\u5e38\u6b22\u8fce\u66f4\u591a\u5bf9 Node.js \u611f\u5174\u8da3\u7684\u670b\u53cb\u3002</p>\n<p>CNode \u7684 SLA \u4fdd\u8bc1\u662f\uff0c\u4e00\u4e2a9\uff0c\u5373 90.000000%\u3002</p>\n<p>\u793e\u533a\u76ee\u524d\u7531 <a href="http://cnodejs.org/user/alsotang" target="_blank">@alsotang</a> \u5728\u7ef4\u62a4\uff0c\u6709\u95ee\u9898\u8bf7\u8054\u7cfb\uff1a<a href="https://github.com/alsotang" target="_blank">https://github.com/alsotang</a></p>\n<p>\u8bf7\u5173\u6ce8\u6211\u4eec\u7684\u5b98\u65b9\u5fae\u535a\uff1a<a href="http://weibo.com/cnodejs" target="_blank">http://weibo.com/cnodejs</a></p>',className:""},{title:"\u79fb\u52a8\u5ba2\u6237\u7aef",content:'<p>\u5ba2\u6237\u7aef\u7531 <a href="https://cnodejs.org/user/soliury" target="_blank">@soliury</a> \u5f00\u53d1\u7ef4\u62a4\u3002</p>\n<p>\u6e90\u7801\u5730\u5740\uff1a <a href="https://github.com/soliury/noder-react-native" target="_blank">https://github.com/soliury/noder-react-native</a> \u3002</p>\n<p>\u7acb\u5373\u4f53\u9a8c CNode \u5ba2\u6237\u7aef\uff0c\u76f4\u63a5\u626b\u63cf\u9875\u9762\u53f3\u4fa7\u4e8c\u7ef4\u7801\u3002</p>\n<p>\u53e6\uff0c\u5b89\u5353\u7528\u6237\u540c\u65f6\u53ef\u9009\u62e9\uff1a<a href="https://github.com/TakWolf/CNode-Material-Design" target="_blank">https://github.com/TakWolf/CNode-Material-Design</a> \uff0c\u8fd9\u662f Java \u539f\u751f\u5f00\u53d1\u7684\u5b89\u5353\u5ba2\u6237\u7aef\u3002</p>',className:""}],ae=(a(220),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return Object(I.jsx)("div",{className:"index-wrap",children:Object(I.jsxs)("div",{className:"main-container",children:[Object(I.jsx)("div",{className:"content",children:Object(I.jsx)("div",{className:"about-content",children:te.map((function(e){return Object(I.jsx)("div",{dangerouslySetInnerHTML:{__html:e.content}})}))})}),Object(I.jsx)("div",{className:"global-side-bar"})]})})}}]),a}(n.Component)),ne=[{title:"Node.js \u5165\u95e8",content:'<p>\u300a<strong>\u5feb\u901f\u642d\u5efa Node.js \u5f00\u53d1\u73af\u5883\u4ee5\u53ca\u52a0\u901f npm</strong>\u300b</p>\n<p><a href="http://fengmk2.com/blog/2014/03/node-env-and-faster-npm.html" target="_blank">http://fengmk2.com/blog/2014/03/node-env-and-faster-npm.html</a></p>\n<p>\u300a<strong>Node.js \u5305\u6559\u4e0d\u5305\u4f1a</strong>\u300b</p>\n<p><a href="https://github.com/alsotang/node-lessons" target="_blank">https://github.com/alsotang/node-lessons</a></p>\n<p>\u300a<strong>ECMAScript 6\u5165\u95e8</strong>\u300b</p>\n<p><a href="http://es6.ruanyifeng.com/" target="_blank">http://es6.ruanyifeng.com/</a></p>\n<p>\u300a<strong>\u4e03\u5929\u5b66\u4f1aNodeJS</strong>\u300b</p>\n<p><a href="https://github.com/nqdeng/7-days-nodejs" target="_blank">https://github.com/nqdeng/7-days-nodejs</a></p>'},{title:"Node.js \u8d44\u6e90",content:'<p>\u300a<strong>\u524d\u7aef\u8d44\u6e90\u6559\u7a0b</strong>\u300b</p>\n<p><a href="https://cnodejs.org/topic/56ef3edd532839c33a99d00e" target="_blank">https://cnodejs.org/topic/56ef3edd532839c33a99d00e</a></p>\n<p>\u300a<strong>\u56fd\u5185\u7684 npm \u955c\u50cf\u6e90</strong>\u300b</p>\n<p><a href="http://cnpmjs.org/" target="_blank">http://cnpmjs.org/</a></p>\n<p>\u300a<strong>node weekly</strong>\u300b</p>\n<p><a href="http://nodeweekly.com/issues" target="_blank">http://nodeweekly.com/issues</a></p>\n<p>\u300a<strong>node123-<em>node.js\u4e2d\u6587\u8d44\u6599\u5bfc\u822a</em></strong>\u300b</p>\n<p><a href="https://github.com/youyudehexie/node123" target="_blank">https://github.com/youyudehexie/node123</a></p>\n<p>\u300a<strong>A curated list of delightful Node.js packages and resources</strong>\u300b</p>\n<p><a href="https://github.com/sindresorhus/awesome-nodejs" target="_blank">https://github.com/sindresorhus/awesome-nodejs</a></p>\n<p>\u300a<strong>Node.js Books</strong>\u300b</p>\n<p><a href="https://github.com/pana/node-books" target="_blank">https://github.com/pana/node-books</a></p>'},{title:"Node.js \u540d\u4eba",content:'<p>\u300a<strong>\u540d\u4eba\u5802</strong>\u300b</p>\n<p><a href="https://github.com/cnodejs/nodeclub/wiki/%E5%90%8D%E4%BA%BA%E5%A0%82" target="_blank">https://github.com/cnodejs/nodeclub/wiki/\u540d\u4eba\u5802</a></p>'},{title:"Node.js \u670d\u52a1\u5668",content:'<p>\u65b0\u624b\u642d\u5efa Node.js \u670d\u52a1\u5668\uff0c\u63a8\u8350\u4f7f\u7528\u65e0\u9700\u5907\u6848\u7684 <a href="https://www.digitalocean.com/?refcode=eba02656eeb3" target="_blank">DigitalOcean(https://www.digitalocean.com/)</a></p>'}],se=(a(221),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return Object(I.jsx)("div",{className:"index-wrap",children:Object(I.jsxs)("div",{className:"main-container",children:[Object(I.jsx)("div",{className:"content",children:Object(I.jsx)("div",{className:"book-content",children:ne.map((function(e){return Object(I.jsx)("div",{dangerouslySetInnerHTML:{__html:e.content}})}))})}),Object(I.jsx)("div",{className:"global-side-bar"})]})})}}]),a}(n.Component)),ce=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return Object(I.jsx)("div",{children:"\u8be6\u60c5"})}}]),a}(n.Component),oe=a(244),ie=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={dataResult:null,loading:!0,id:null},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.loginName,t=this;u.a.get(O+"/user/"+e).then((function(e){e.data.data&&e.data.success&&t.setState({dataResult:e.data.data,loading:!1}),console.log("UserCreate-\u83b7\u53d6\u7528\u6237\u4fe1\u606f",e)}))}},{key:"render",value:function(){console.log("UserCreate-render");var e=this.state,t=e.loading,a=e.dataResult;return t?Object(I.jsx)("div",{className:"loading-div",style:{height:"100px"},children:Object(I.jsx)(P.a,{size:"large",className:"loading"})}):0===a.recent_topics.length?Object(I.jsx)("div",{className:"loading-div",style:{height:"100px"},children:Object(I.jsx)("span",{style:{margin:"auto",color:"#B6B6B6"},children:"\u65e0\u6570\u636e"})}):Object(I.jsx)("div",{children:a.recent_topics.map((function(e){return Object(I.jsx)(K,Object(z.a)({},e),e.id)}))})}}]),a}(n.Component),re=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={dataResult:null,loading:!0,id:null},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.loginName,t=this;u.a.get(O+"/user/"+e).then((function(e){e.data.data&&e.data.success&&t.setState({dataResult:e.data.data,loading:!1}),console.log("UserReply-\u83b7\u53d6\u7528\u6237\u4fe1\u606f",e)}))}},{key:"render",value:function(){console.log("UserReply-render");var e=this.state,t=e.loading,a=e.dataResult;return t?Object(I.jsx)("div",{className:"loading-div",style:{height:"100px"},children:Object(I.jsx)(P.a,{size:"large",className:"loading"})}):0===a.recent_replies.length?Object(I.jsx)("div",{className:"loading-div",style:{height:"100px"},children:Object(I.jsx)("span",{style:{margin:"auto",color:"#B6B6B6"},children:"\u65e0\u6570\u636e"})}):Object(I.jsx)("div",{children:a.recent_replies.map((function(e){return Object(I.jsx)(K,Object(z.a)({},e),e.id)}))})}}]),a}(n.Component),le=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return Object(I.jsxs)(M.a,{children:[Object(I.jsx)(B.a,{path:"/user/create/:loginName",component:ie},"/user/create"),Object(I.jsx)(B.a,{path:"/user/reply/:loginName",component:re},"/user/reply")]})}}]),a}(n.Component),de=(a(222),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={dataResult:null,loading:!0,id:null},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.loginName;console.log("User-componentDidMount-loginName",e);var t=this;u.a.get(O+"/user/"+e).then((function(e){e.data.data&&e.data.success&&t.setState({dataResult:e.data.data,loading:!1}),console.log("User-\u83b7\u53d6\u7528\u6237\u4fe1\u606f",e)}))}},{key:"componentDidUpdate",value:function(e,t,a){console.log("User-componentDidUpdate"),console.log("User-componentDidUpdate-prevProps",e),console.log("User-componentDidUpdate-this.props",this.props);e.match.params.loginName,this.props.match.params.loginName}},{key:"render",value:function(){console.log("User-render");var e=this.state,t=e.loading,a=e.dataResult;return t?Object(I.jsx)("div",{className:"loading-div",children:Object(I.jsx)(P.a,{size:"large",className:"loading"})}):Object(I.jsx)("div",{className:"index-wrap",children:Object(I.jsxs)("div",{className:"main-container",children:[Object(I.jsxs)("div",{className:"content",children:[Object(I.jsxs)("div",{className:"user-info",children:[Object(I.jsx)(x.a,{shape:"square",size:64,src:a.avatar_url}),Object(I.jsx)("span",{className:"user-loginname",children:a.loginname}),Object(I.jsx)(oe.a,{title:"\u79ef\u5206",value:a.score,style:{marginLeft:"10px"}})]}),Object(I.jsxs)("div",{className:"nav-wrap",children:[Object(I.jsx)(b.a,{to:{pathname:"/user/create/"+a.loginname,state:{dataResult:a}},activeClassName:"nav-active",className:"nav",children:Object(I.jsx)("span",{children:"\u521b\u5efa"})},"/user/create/"+a.loginname),Object(I.jsx)(b.a,{to:{pathname:"/user/reply/"+a.loginname,state:{dataResult:a}},activeClassName:"nav-active",className:"nav",children:Object(I.jsx)("span",{children:"\u56de\u590d"})},"/user/reply/"+a.loginname)]}),Object(I.jsx)(le,{})]}),Object(I.jsx)("div",{className:"global-side-bar"})]})})}}]),a}(n.Component)),je=a(243),he=a(242);a(235);W.a.locale("zh-cn");var ue=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={dataResult:null,loading:!0,id:null},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;console.log("Topic-componentDidMount-id",e),this.setState({id:e});var t=this;u.a.get(O+"/topic/"+e).then((function(e){if(null!==e.data.data){var a=e.data.data;a.content&&(console.log("dataResult.content-pre",a.content),a.content=a.content.replace(/<img/g,"<Image"),console.log("dataResult.content-after",a.content)),t.setState({dataResult:a,loading:!1})}})).catch((function(e){alert(e)}))}},{key:"componentDidUpdate",value:function(e,t,a){console.log("Topic-componentDidUpdate",t)}},{key:"render",value:function(){var e=this.state,t=e.dataResult,a=e.loading;if(console.log("topic-render-dataResult",t),a)return Object(I.jsx)("div",{className:"loading-div",children:Object(I.jsx)(P.a,{size:"large",className:"loading"})});var n=[];switch(!0===t.top&&n.push("\u7f6e\u9876"),1==t.good&&n.push("\u7cbe\u534e"),t.tab){case"share":n.push("\u5206\u4eab");break;case"ask":n.push("\u95ee\u7b54")}return Object(I.jsx)("div",{className:"index-wrap",children:Object(I.jsxs)("div",{className:"main-container",children:[Object(I.jsx)("div",{className:"content",children:Object(I.jsxs)("div",{className:"topic-content-wrap",children:[Object(I.jsx)("div",{className:"title",children:t.title}),Object(I.jsxs)("div",{className:"topic-author-count-info",children:[Object(I.jsx)(p.a,{to:"/user/create/"+t.author.loginname,children:Object(I.jsxs)("div",{className:"topic-author-info",children:[Object(I.jsx)(x.a,{src:t.author.avatar_url,icon:Object(I.jsx)(w.a,{}),shape:"square"}),Object(I.jsx)("div",{className:"topic-login-name",children:t.author.loginname})]})}),Object(I.jsxs)("div",{className:"topic-count-info",children:[Object(I.jsxs)("span",{title:"\u6d4f\u89c8\u91cf",className:"num",children:["\u6d4f\u89c8\u91cf ",t.visit_count]}),Object(I.jsxs)("span",{title:"\u56de\u590d\u6570",className:"num",children:["\u56de\u590d\u6570 ",t.reply_count]}),Object(I.jsx)("span",{className:"topic-tag",children:n.map((function(e){return"\u7f6e\u9876"===e||"\u7cbe\u534e"===e?Object(I.jsx)(L.a,{color:"#1890ff",children:e},e):Object(I.jsx)(L.a,{children:e},e)}))})]})]}),Object(I.jsx)("div",{className:"topic-content",dangerouslySetInnerHTML:{__html:t.content}}),Object(I.jsx)("div",{className:"topic-comment",children:Object(I.jsx)(je.b,{className:"comment-list",header:"\u8bc4\u8bba\u533a ".concat(t.replies.length," \u56de\u590d"),itemLayout:"horizontal",dataSource:t.replies,renderItem:function(e){return Object(I.jsx)("li",{children:Object(I.jsx)(he.a,{actions:e.actions,author:Object(I.jsx)(p.a,{to:"/user/create/"+e.author.loginname,children:e.author.loginname}),avatar:Object(I.jsx)(p.a,{to:"/user/create/"+e.author.loginname,children:Object(I.jsx)(x.a,{src:e.author.avatar_url,alt:e.author.loginname,shape:"square"})}),content:Object(I.jsx)("div",{className:"content",dangerouslySetInnerHTML:{__html:e.content}}),datetime:Object(I.jsx)(H.a,{title:W()(e.create_at).format("YYYY-MM-DD HH:mm:ss"),color:"#8c8c8c",children:Object(I.jsx)("span",{children:W()(e.create_at).fromNow()})})})})}})})]})}),Object(I.jsx)("div",{className:"global-side-bar"})]})})}}]),a}(n.Component),pe=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return Object(I.jsxs)(M.a,{children:[Object(I.jsx)(D.a,{path:"/index/:type",component:ee}),Object(I.jsx)(D.a,{path:"/about",component:ae}),Object(I.jsx)(D.a,{path:"/book",component:se}),Object(I.jsx)(D.a,{path:"/detail",component:ce}),Object(I.jsx)(D.a,{path:"/topic/:id",component:ue}),Object(I.jsx)(D.a,{path:"/user/create/:loginName",component:de,exact:!0}),Object(I.jsx)(D.a,{path:"/user/reply/:loginName",component:de,exact:!0}),Object(I.jsx)(U.a,{to:"/index/all",from:"/",exact:!0}),Object(I.jsx)(U.a,{to:"/index/all",from:"/index",exact:!0})]})}}]),a}(n.Component),be=a(247),me=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return Object(I.jsxs)("div",{children:[Object(I.jsx)(be.a,{}),Object(I.jsx)(R,{}),Object(I.jsx)(pe,{})]})}}]),a}(n.Component);c.a.render(Object(I.jsx)(o.a,{children:Object(I.jsx)(me,{})}),document.getElementById("root"))}},[[236,1,2]]]);
//# sourceMappingURL=main.15e90654.chunk.js.map