{"version":3,"sources":["constant/index.js","view/header/index.js","view/index/indexItem/indexItem.js","view/index/indexList.js","router/indexRouters.js","view/index/index.js","view/about/data.js","view/about/index.js","view/book/data.js","view/book/index.js","view/detail/index.js","view/user/userCreate.js","view/user/userReply.js","router/userRouters.js","view/user/index.js","view/topic/index.js","router/index.js","App.js","index.js"],"names":["URL_PRE","Header","state","searchClickStyle","userInfo","visible","loading","unReadMessageCount","changeSearchStyle","setState","backgroundColor","searchInputKeyUp","event","key","value","target","search","searchIconClick","searchValue","keyWord","trim","window","open","loginBtnClick","loginOut","localStorage","removeItem","handleCancel","handleOk","e","console","log","tokenInput","_this","localToken","Axios","post","accesstoken","then","res","data","success","setItem","JSON","stringify","catch","reason","alert","get","params","error","this","getItem","className","Link","to","NavLink","activeClassName","style","type","onFocus","onBlur","onKeyUp","ref","c","SearchOutlined","onClick","placement","content","loginname","trigger","overlayStyle","paddingLeft","paddingRight","src","avatar_url","shape","title","cursor","count","size","MessageOutlined","fontSize","color","onOk","onCancel","footer","href","placeholder","onChange","onPressEnter","Component","IndexItem","item","props","tabs","top","push","good","tab","author","icon","id","visit_count","reply_count","map","moment","last_reply_at","format","fromNow","IndexList","dataResult","page","loadMore","path","location","pathname","split","length","node","container","scrollTop","current","onScroll","handleScroll","IndexRouters","Switch","component","Index","About","datas","dangerouslySetInnerHTML","__html","Book","Detail","UserCreate","loginName","match","height","recent_topics","margin","UserReply","recent_replies","UserRouters","User","prevProps","prevState","snapshot","score","marginLeft","locale","Topic","replace","header","replies","itemLayout","dataSource","renderItem","actions","avatar","alt","datetime","create_at","RouterIndex","Route","exact","Redirect","from","App","ReactDOM","render","HashRouter","document","getElementById"],"mappings":"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","file":"static/js/main.15e90654.chunk.js","sourcesContent":["const URL_PRE = 'https://cnodejs.org/api/v1';\r\n\r\nexport default URL_PRE;","import React, {Component} from 'react';\r\nimport Axios from \"axios\";\r\nimport './index.scss'\r\nimport {Link, NavLink} from \"react-router-dom\";\r\nimport {SearchOutlined, MessageOutlined} from '@ant-design/icons'\r\nimport URL_PRE from \"../../constant\";\r\nimport {Avatar, Badge, Button, Input, Modal, Popover} from \"antd\";\r\nimport UserOutlined from \"@ant-design/icons/lib/icons/UserOutlined\";\r\nimport PoweroffOutlined from \"@ant-design/icons/lib/icons/PoweroffOutlined\";\r\n\r\nclass Header extends Component {\r\n\r\n    state = {\r\n        searchClickStyle: null,\r\n        userInfo: null,\r\n        visible: false,\r\n        loading: false,\r\n        unReadMessageCount: 0\r\n    }\r\n\r\n    changeSearchStyle = () => {\r\n        if (this.state.searchClickStyle === null) {\r\n            this.setState({searchClickStyle: {backgroundColor: '#fff'}})\r\n        } else {\r\n            this.setState({searchClickStyle: null})\r\n        }\r\n    }\r\n\r\n    searchInputKeyUp = (event) => {\r\n        // console.log('searchInputKeyUp', event)\r\n\r\n        if (event.key === 'Enter') {\r\n            let value = event.target.value;\r\n            this.search(value)\r\n            /*if (value && value.trim() !== \"\") {\r\n                value = value.trim()\r\n                console.log(event.target.value)\r\n                window.open('https://kaifa.baidu.com/searchPage?wd=' + value)\r\n            }*/\r\n        }\r\n    }\r\n\r\n    searchIconClick = () => {\r\n        // console.log(this.searchValue.value)\r\n        this.search(this.searchValue.value)\r\n    }\r\n\r\n    search = (keyWord) => {\r\n        if (keyWord && keyWord.trim() !== \"\") {\r\n            keyWord = keyWord.trim()\r\n            // window.open('https://kaifa.baidu.com/searchPage?wd=' + keyWord)\r\n            window.open('https://www.baidu.com/s?wd=site:cnodejs.org ' + keyWord)\r\n        }\r\n    }\r\n\r\n    loginBtnClick = () => {\r\n        //如果不是展示登录页面状态, 那么设置\r\n        const {visible} = this.state;\r\n        if (!visible) {\r\n            this.setState({visible: true})\r\n        }\r\n    }\r\n\r\n    loginOut = () => {\r\n        //退出登录, 移除存储的token\r\n        window.localStorage.removeItem('cnode-token');\r\n        window.localStorage.removeItem('cnode-userInfo');\r\n\r\n        //设置userInfo 重新渲染页面\r\n        this.setState({userInfo: null, unReadMessageCount: 0})\r\n    }\r\n\r\n\r\n    handleCancel = () => {\r\n        //点击modal取消按钮, 隐藏modal\r\n        this.setState({ visible: false });\r\n    };\r\n\r\n    handleOk = (e) => {\r\n        //点击确定按钮\r\n        console.log('handleOk', e)\r\n        console.log('handleOk-input', this.tokenInput)\r\n        this.setState({ loading: true });\r\n\r\n        let _this = this;\r\n        let localToken = '';\r\n        if (this.tokenInput && this.tokenInput.trim() !== '') {\r\n            localToken = this.tokenInput.trim();\r\n        } else {\r\n            this.setState({ loading: false });\r\n            return false;\r\n        }\r\n\r\n\r\n        Axios.post(URL_PRE + '/accesstoken', {accesstoken: localToken})\r\n            .then(res => {\r\n                //后端返回的success字段为true\r\n                if (res.data && res.data.success) {\r\n                    _this.setState({userInfo: res.data, loading: false, visible: false})\r\n                    window.localStorage.setItem('cnode-userInfo', JSON.stringify(res.data))\r\n                    window.localStorage.setItem('cnode-token', localToken)\r\n                }\r\n            })\r\n            .catch(reason => {\r\n                alert('Access Token 错误')\r\n                console.log('header-componentDidMount-Axios-catch', reason);\r\n                _this.setState({ loading: false });\r\n            });\r\n\r\n        //获取未读消息数\r\n        Axios.get(URL_PRE + '/message/count', {\r\n            params: {\r\n                accesstoken: localToken\r\n            }\r\n        })\r\n            .then(res => {\r\n                if (res.data && res.data.success) {\r\n                    _this.setState({unReadMessageCount: res.data.data})\r\n                }\r\n            })\r\n            .catch(error => {\r\n                _this.setState({ loading: false });\r\n            })\r\n\r\n        /*setTimeout(() => {\r\n            this.setState({ loading: false, visible: false });\r\n        }, 3000);*/\r\n    };\r\n\r\n    componentDidMount() {\r\n        let _this = this;\r\n        let localToken = window.localStorage.getItem('cnode-token');\r\n        if (localToken != null) {\r\n\r\n            Axios.post(URL_PRE + '/accesstoken', {accesstoken: localToken})\r\n            .then(res => {\r\n                //后端返回的success字段为true\r\n                if (res.data && res.data.success) {\r\n                    _this.setState({userInfo: res.data})\r\n                    window.localStorage.setItem('cnode-userInfo', JSON.stringify(res.data))\r\n                }\r\n            })\r\n            .catch(reason => {\r\n                alert(reason)\r\n                console.log('header-componentDidMount-Axios-catch', reason);\r\n            });\r\n\r\n            //获取未读消息数\r\n            Axios.get(URL_PRE + '/message/count', {\r\n                params: {\r\n                    accesstoken: localToken\r\n                }\r\n            })\r\n            .then(res => {\r\n                if (res.data && res.data.success) {\r\n                    _this.setState({unReadMessageCount: res.data.data})\r\n                }\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n\r\n        const {userInfo, visible, loading, unReadMessageCount} = this.state;\r\n        return (\r\n            <div className=\"headerWrap\">\r\n                <div className=\"header\">\r\n                    <Link to=\"/index\">\r\n                        <div className=\"logo\">\r\n                            <span>cNode</span>\r\n                        </div>\r\n                    </Link>\r\n\r\n\r\n                    {/*<Menu  mode=\"horizontal\">\r\n                        <Menu.Item key=\"mail\">\r\n                            <Icon type=\"mail\" />\r\n                            Navigation One\r\n                        </Menu.Item>\r\n                    </Menu>*/}\r\n                    <NavLink to=\"/index\" activeClassName='nav-active' className=\"nav\"><span>首页</span></NavLink>\r\n                    <NavLink to=\"/book\" activeClassName='nav-active' className=\"nav\"><span>教程</span></NavLink>\r\n                    <NavLink to=\"/about\" activeClassName='nav-active' className=\"nav\"><span>关于</span></NavLink>\r\n\r\n                    <div className=\"search\"  style={this.state.searchClickStyle}>\r\n                        <input type=\"text\" onFocus={this.changeSearchStyle} onBlur={this.changeSearchStyle} onKeyUp={this.searchInputKeyUp} ref={c => this.searchValue = c}/>\r\n                        {/*<Search type=\"search\" className=\"icon\"/>*/}\r\n                        <SearchOutlined className=\"icon\" onClick={this.searchIconClick}/>\r\n                    </div>\r\n\r\n                    {\r\n                        //如果state中userInfo不为空, 且userInfo.success\r\n                        //那么则展示 未读信息, 用户头像\r\n                        (userInfo && userInfo.success) ?\r\n                            <div>\r\n                                <div className=\"avatar\">\r\n                                    {/*<Avatar src={userInfo.avatar_url} shape=\"square\" ></Avatar>*/}\r\n\r\n                                    <Popover placement=\"bottom\"  content={\r\n                                        <div className='header-user-menu'>\r\n                                            <div className='header-user-menu-item'>\r\n                                                <UserOutlined />\r\n                                                <span>\r\n                                                    {/*<a href={}>我的主页</a>*/}\r\n                                                    <Link to={\"/user/create/\" + userInfo.loginname} target='_blank'>我的主页</Link>\r\n                                                </span>\r\n\r\n                                            </div>\r\n                                            <div className='header-user-menu-item' onClick={this.loginOut}>\r\n                                                <PoweroffOutlined />\r\n                                                <span>退出</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    } trigger=\"hover\" overlayStyle={{paddingLeft: '0', paddingRight: '0'}}>\r\n                                        <Avatar src={userInfo.avatar_url} shape=\"square\" ></Avatar>\r\n                                    </Popover>\r\n                                    {/*<span className='header-user-menu-pre-triangle'></span>\r\n                                    <div className='header-user-menu'>\r\n                                        <Button>退出</Button>\r\n                                    </div>*/}\r\n                                </div>\r\n                                <div className=\"message\" title='未读消息' style={{cursor: 'pointer'}}>\r\n                                    <Badge count={unReadMessageCount} size=\"small\">\r\n                                        <MessageOutlined style={{ fontSize: '24px', color: '#8590a6' }}/>\r\n                                    </Badge>\r\n                                    {/*<Icon type=\"message\" />*/}\r\n                                </div>\r\n                            </div>\r\n                            :\r\n                            <div className=\"login-btn\">\r\n                                <Button size=\"middle\" type=\"primary\" onClick={this.loginBtnClick}>登录</Button>\r\n                            </div>\r\n                    }\r\n                </div>\r\n\r\n                {visible ?\r\n                    <Modal\r\n                        visible={visible}\r\n                        title=\"登录\"\r\n                        onOk={this.handleOk}\r\n                        onCancel={this.handleCancel}\r\n                        footer={[\r\n                            <Button key=\"back\" onClick={this.handleCancel}>\r\n                                取消\r\n                            </Button>,\r\n                            <Button key=\"submit\" type=\"primary\" loading={loading} onClick={this.handleOk}>\r\n                                确认\r\n                            </Button>\r\n                        ]}\r\n                    >\r\n                        <p><a href=\"https://cnodejs.org/\" target='_blank'>进入 cNode</a> 登录 -> 设置 -> Access Token -> 复制字符串</p>\r\n                        <Input placeholder=\"316c33ef-78a4-41b7-866b-f88088888888\"\r\n                               onChange={e => this.tokenInput = e.target.value}\r\n                               onPressEnter={this.handleOk}/>\r\n                    </Modal>\r\n                    : ''\r\n                }\r\n\r\n\r\n\r\n                {/*<Login visible={loginModalShow} key={!loginModalShow}></Login>*/}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Header;","import React, {Component} from 'react';\r\nimport './indexItem.scss'\r\nimport {Link} from \"react-router-dom\";\r\nimport {Avatar, Tag, Tooltip} from \"antd\";\r\nimport EyeOutlined from \"@ant-design/icons/lib/icons/EyeOutlined\";\r\nimport MessageOutlined from \"@ant-design/icons/lib/icons/MessageOutlined\";\r\nimport moment from 'moment'\r\n//中文引入\r\nimport 'moment/locale/zh-cn'\r\nimport UserOutlined from \"@ant-design/icons/lib/icons/UserOutlined\";\r\n\r\nclass IndexItem extends Component {\r\n\r\n    render() {\r\n\r\n        // console.log('IndexItem-render', this.props)\r\n        const item = this.props\r\n\r\n        if (item == null) {\r\n            return null\r\n        }\r\n\r\n        let tabs = []\r\n\r\n        if (item.top === true) {\r\n            tabs.push('置顶')\r\n        }\r\n\r\n        if (item.good == true) {\r\n            tabs.push('精华')\r\n        }\r\n\r\n\r\n\r\n        switch (item.tab) {\r\n            case 'share':\r\n                tabs.push('分享')\r\n                break;\r\n            case 'ask':\r\n                tabs.push('问答')\r\n                break;\r\n        }\r\n\r\n        // console.log('IndexItem', this.props)\r\n\r\n        return (\r\n            <div className=\"index-item\">\r\n                <Link to={'/user/create/' + item.author.loginname} target='_blank'>\r\n                    <div className=\"author-info\">\r\n                        <Avatar src={item.author.avatar_url} icon={<UserOutlined />} shape=\"square\"></Avatar>\r\n                        {/*<img className=\"avatar\" width=\"25px\" height=\"25px\" src={item.author.avatar_url} title={item.author.loginname} />*/}\r\n                        <div className=\"login-name\">{item.author.loginname}</div>\r\n                    </div>\r\n                </Link>\r\n\r\n\r\n                <Link to={\"/topic/\" +  item.id} target=\"_self\">\r\n                    <div className=\"title\">\r\n                        {item.title}\r\n                    </div>\r\n                </Link>\r\n\r\n\r\n                {/*<div className=\"content\" dangerouslySetInnerHTML={{__html: item.content}}>\r\n                </div>*/}\r\n\r\n                <div className=\"count-info\">\r\n                    <EyeOutlined title=\"浏览量\"/>\r\n                    <span title=\"浏览量\" className=\"num\">{item.visit_count}</span>\r\n                    <MessageOutlined title=\"回复数\" />\r\n                    <span title=\"回复数\" className=\"num\">{item.reply_count}</span>\r\n                    {\r\n                        tabs.map(tab => {\r\n                                if (tab === '置顶' || tab === '精华') {\r\n                                    return <Tag color=\"#2A7FFF\" key={tab}>{tab}</Tag>\r\n                                } else {\r\n                                    return <Tag key={tab}>{tab}</Tag>\r\n                                }\r\n                            }\r\n                        )}\r\n                    {/*<Tag color=\"#06f\">#f50</Tag>*/}\r\n\r\n\r\n                    <div className=\"time\">\r\n                        <Tooltip title={'最近回复: ' + moment(item.last_reply_at).format('YYYY-MM-DD HH:mm:ss')} color=\"#1890FF\">\r\n                            <span >{moment(item.last_reply_at).fromNow()}</span>\r\n                        </Tooltip>\r\n                        {/*<span title={moment(item.create_at).format('YYYY-MM-DD HH:mm:ss')}>{moment(item.last_reply_at, 'YYYY-MM-DD HH:mm:ss').fromNow()}</span>*/}\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default IndexItem;","import React, {Component} from 'react';\r\nimport IndexItem from \"./indexItem/indexItem\";\r\nimport Axios from \"axios\";\r\nimport URL_PRE from \"../../constant\";\r\nimport {Spin} from \"antd\";\r\nimport './indexList.scss'\r\nimport ArrowDownOutlined from \"@ant-design/icons/lib/icons/ArrowDownOutlined\";\r\nimport DownOutlined from \"@ant-design/icons/lib/icons/DownOutlined\";\r\nimport LoadingOutlined from \"@ant-design/icons/lib/icons/LoadingOutlined\";\r\n\r\nclass IndexList extends Component {\r\n\r\n    state = {\r\n        dataResult: [],\r\n        page: 1,\r\n        tab: 'all',\r\n        loading: true\r\n    }\r\n\r\n    handleScroll() {\r\n        /*const { handleUserDidScroll } = this.props\r\n        const node = this.container\r\n        if (node.scrollHeight == node.clientHeight + node.scrollTop) {\r\n            handleUserDidScroll()\r\n        }*/\r\n        const node = this.container\r\n        console.log('滚动了', node.scrollTop)\r\n    }\r\n\r\n    componentDidMount() {\r\n        console.log('componentDidMount', this.props);\r\n        console.log('this.container', this.container);\r\n        console.log('this.current', this.current);\r\n        console.log('this.', this);\r\n\r\n        //this.container.addEventListener('scroll',this.handleScroll)\r\n\r\n        let tab;\r\n        const {page} = this.state;\r\n        //  \"/index/good\"  ==> good\r\n        let path = this.props.location.pathname.split(\"/\");\r\n        tab = path[path.length - 1];\r\n        let _this = this;\r\n\r\n        Axios.get(URL_PRE + '/topics?tab=' + tab + '&limit=20&page=' + page)\r\n            .then(function (res) {\r\n                // console.log('topics', res.data)\r\n                if (res.data.data !== null) {\r\n                    _this.setState({dataResult: res.data.data, loading: false, page: page + 1})\r\n                }\r\n            })\r\n            .catch(function (res) {\r\n                console.log('topics-error', res)\r\n            });\r\n        this.setState({dataResult: []})\r\n    }\r\n\r\n    loadMore = () => {\r\n        let tab;\r\n        const {page, dataResult} = this.state;\r\n        //  \"/index/good\"  ==> good\r\n        let path = this.props.location.pathname.split(\"/\");\r\n        tab = path[path.length - 1];\r\n        let _this = this;\r\n\r\n        _this.setState({loading: true})\r\n        Axios.get(URL_PRE + '/topics?tab=' + tab + '&limit=20&page=' + page)\r\n            .then(function (res) {\r\n                // console.log('topics', res.data)\r\n                if (res.data.data !== null) {\r\n                    _this.setState({dataResult: [...dataResult, ...res.data.data], loading: false, page: page + 1})\r\n                }\r\n            })\r\n            .catch(function (res) {\r\n                console.log('topics-error', res)\r\n            });\r\n        //先默认保持原样\r\n        //this.setState({dataResult})\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        //this.container.removeEventListener('scroll',this.handleScroll)\r\n    }\r\n\r\n    render() {\r\n\r\n        const {loading, dataResult} = this.state;\r\n        //如果第一次进入页面, 并且dataResult里没有数据\r\n        if (loading && dataResult.length === 0) {\r\n            return <div className='loading-div'>\r\n                <Spin size=\"large\" className=\"loading\"/>\r\n            </div>\r\n        }\r\n\r\n        console.log('IndexList-render', this.props)\r\n        return (\r\n            <div ref={c => this.container = c} onScroll={this.handleScroll}>\r\n                {/*{this.props.match.path}*/}\r\n                {dataResult.map(item => {\r\n                    // return <div key={item.id}>{item.id}</div>\r\n                    return <IndexItem key={item.id} {...item}></IndexItem>\r\n                })}\r\n\r\n                {loading ? <div className=\"index-next-wrap\" title={'点击加载下一页'} onClick={this.loadMore}>\r\n                    <LoadingOutlined className=\"next-icon\"/>\r\n                </div> : <div className=\"index-next-wrap\" title={'点击加载下一页'} onClick={this.loadMore}>\r\n                    <DownOutlined className=\"next-icon\"/>\r\n                </div>\r\n                }\r\n\r\n\r\n                {/*<div className=\"index-next-wrap\" title={'点击加载下一页'} onClick={this.loadMore}>\r\n                    <DownOutlined className=\"next-icon\"/>\r\n                </div>*/}\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default IndexList;","import React, {Component} from 'react';\r\nimport {Switch} from \"react-router\";\r\nimport Route from \"react-router/Route\";\r\nimport IndexList from \"../view/index/indexList\";\r\n\r\n\r\n//首页路由\r\nclass IndexRouters extends Component {\r\n    render() {\r\n        return (\r\n            <Switch>\r\n                <Route path=\"/index/all\" component={IndexList} key='/index/all'></Route>\r\n                <Route path=\"/index/good\" component={IndexList} key='/index/good'></Route>\r\n                <Route path=\"/index/ask\" component={IndexList} key='/index/ask'></Route>\r\n                <Route path=\"/index/share\" component={IndexList} key='/index/share'></Route>\r\n                <Route path=\"/index/job\" component={IndexList} key='/index/job'></Route>\r\n                <Route path=\"/index/dev\" component={IndexList} key='/index/test'></Route>\r\n            </Switch>\r\n        );\r\n    }\r\n}\r\n\r\nexport default IndexRouters;","import React, {Component} from 'react';\r\nimport './index.scss'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport IndexRouters from \"../../router/indexRouters\";\r\n\r\n\r\nclass Index extends Component {\r\n    render() {\r\n        console.log(this.props)\r\n        return (\r\n            <div className=\"index-wrap\">\r\n                <div className=\"main-container\">\r\n                    <div className=\"content\">\r\n                        <div className=\"nav-wrap\">\r\n                            <NavLink to=\"/index/all\" activeClassName='nav-active' className=\"nav\"><span>全部</span></NavLink>\r\n                            <NavLink to=\"/index/good\" activeClassName='nav-active' className=\"nav\"><span>精华</span></NavLink>\r\n                            <NavLink to=\"/index/ask\" activeClassName='nav-active' className=\"nav\"><span>问题</span></NavLink>\r\n                            <NavLink to=\"/index/share\" activeClassName='nav-active' className=\"nav\"><span>分享</span></NavLink>\r\n                            <NavLink to=\"/index/job\" activeClassName='nav-active' className=\"nav\"><span>招聘</span></NavLink>\r\n                            <NavLink to=\"/index/dev\" activeClassName='nav-active' className=\"nav\"><span>测试</span></NavLink>\r\n                        </div>\r\n                        <IndexRouters></IndexRouters>\r\n                    </div>\r\n\r\n                    <div className=\"global-side-bar\">\r\n\r\n                    </div>\r\n\r\n\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Index;","let aboutData = `<p>CNode 社区为国内最大最具影响力的 Node.js 开源技术社区，致力于 Node.js 的技术研究。</p>\r\n<p>CNode 社区由一批热爱 Node.js 技术的工程师发起，目前已经吸引了互联网各个公司的专业技术人员加入，我们非常欢迎更多对 Node.js 感兴趣的朋友。</p>\r\n<p>CNode 的 SLA 保证是，一个9，即 90.000000%。</p>\r\n<p>社区目前由 <a href=\"http://cnodejs.org/user/alsotang\" target=\"_blank\">@alsotang</a> 在维护，有问题请联系：<a href=\"https://github.com/alsotang\" target=\"_blank\">https://github.com/alsotang</a></p>\r\n<p>请关注我们的官方微博：<a href=\"http://weibo.com/cnodejs\" target=\"_blank\">http://weibo.com/cnodejs</a></p>`\r\n\r\nlet mobbleData = `<p>客户端由 <a href=\"https://cnodejs.org/user/soliury\" target=\"_blank\">@soliury</a> 开发维护。</p>\r\n<p>源码地址： <a href=\"https://github.com/soliury/noder-react-native\" target=\"_blank\">https://github.com/soliury/noder-react-native</a> 。</p>\r\n<p>立即体验 CNode 客户端，直接扫描页面右侧二维码。</p>\r\n<p>另，安卓用户同时可选择：<a href=\"https://github.com/TakWolf/CNode-Material-Design\" target=\"_blank\">https://github.com/TakWolf/CNode-Material-Design</a> ，这是 Java 原生开发的安卓客户端。</p>`\r\n\r\nlet linkData = `<a href=\"https://www.huoban.com/\" target=\"_blank\">\r\n            <img src=\"//dn-cnode.qbox.me/Ftmw28ed0I_rir7YYz3c_jVPkCGx\">\r\n          </a>\r\n\r\n          <a href=\"http://100offer.com/\" target=\"_blank\">\r\n            <img src=\"//dn-cnode.qbox.me/FmU1Ik57z6wrl9JDTNdcYBTDetFq\">\r\n          </a>\r\n\r\n          <a href=\"https://www.teambition.com/\" target=\"_blank\">\r\n            <img src=\"//dn-cnode.qbox.me/FkMR_SqpCp4Q0eDIaWrQlALiXdmP\">\r\n          </a>\r\n\r\n          <a href=\"http://yunzhihui.com/\" target=\"_blank\">\r\n            <img src=\"//dn-cnode.qbox.me/Fq2cV_14IFHwelZ-6jey42Z0-eOR\">\r\n          </a>\r\n\r\n          <a href=\"http://www.jiguang.cn/\" target=\"_blank\">\r\n            <img src=\"//dn-cnode.qbox.me/FijGJbij9GObh5AXw-Vyu5LGn08a\">\r\n          </a>\r\n\r\n          <a href=\"http://segmentfault.com/\" target=\"_blank\">\r\n            <img src=\"//o4j806krb.qnssl.com/public/images/temp/sf.png\">\r\n          </a>\r\n\r\n          <a href=\"http://ionichina.com/\" target=\"_blank\">\r\n            <img src=\"//o4j806krb.qnssl.com/public/images/temp/ionichina.png\">\r\n          </a>`\r\n\r\nlet data = [{\r\n    title:\"关于\",\r\n    content:aboutData,\r\n    className: \"\"\r\n},{\r\n    title: \"移动客户端\",\r\n    content:mobbleData,\r\n    className: \"\"\r\n}/*,{\r\n    title: \"友情链接\",\r\n    content: linkData,\r\n    className: \"linkList\"\r\n}*/\r\n];\r\n\r\nexport default data;","import React, {Component} from 'react';\r\nimport datas from './data';\r\nimport './index.scss'\r\n\r\nclass About extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"index-wrap\">\r\n                <div className=\"main-container\">\r\n                    <div className=\"content\">\r\n                        <div className=\"about-content\">\r\n                            {\r\n                                datas.map(data => {\r\n                                    return <div dangerouslySetInnerHTML={{__html: data.content}}></div>\r\n                                })\r\n                            }\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                    <div className=\"global-side-bar\">\r\n\r\n                    </div>\r\n\r\n\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default About;","let data = [{\r\n        title: \"Node.js 入门\",\r\n        content: `<p>《<strong>快速搭建 Node.js 开发环境以及加速 npm</strong>》</p>\r\n<p><a href=\"http://fengmk2.com/blog/2014/03/node-env-and-faster-npm.html\" target=\"_blank\">http://fengmk2.com/blog/2014/03/node-env-and-faster-npm.html</a></p>\r\n<p>《<strong>Node.js 包教不包会</strong>》</p>\r\n<p><a href=\"https://github.com/alsotang/node-lessons\" target=\"_blank\">https://github.com/alsotang/node-lessons</a></p>\r\n<p>《<strong>ECMAScript 6入门</strong>》</p>\r\n<p><a href=\"http://es6.ruanyifeng.com/\" target=\"_blank\">http://es6.ruanyifeng.com/</a></p>\r\n<p>《<strong>七天学会NodeJS</strong>》</p>\r\n<p><a href=\"https://github.com/nqdeng/7-days-nodejs\" target=\"_blank\">https://github.com/nqdeng/7-days-nodejs</a></p>`\r\n    },{\r\n        title: \"Node.js 资源\",\r\n        content: `<p>《<strong>前端资源教程</strong>》</p>\r\n<p><a href=\"https://cnodejs.org/topic/56ef3edd532839c33a99d00e\" target=\"_blank\">https://cnodejs.org/topic/56ef3edd532839c33a99d00e</a></p>\r\n<p>《<strong>国内的 npm 镜像源</strong>》</p>\r\n<p><a href=\"http://cnpmjs.org/\" target=\"_blank\">http://cnpmjs.org/</a></p>\r\n<p>《<strong>node weekly</strong>》</p>\r\n<p><a href=\"http://nodeweekly.com/issues\" target=\"_blank\">http://nodeweekly.com/issues</a></p>\r\n<p>《<strong>node123-<em>node.js中文资料导航</em></strong>》</p>\r\n<p><a href=\"https://github.com/youyudehexie/node123\" target=\"_blank\">https://github.com/youyudehexie/node123</a></p>\r\n<p>《<strong>A curated list of delightful Node.js packages and resources</strong>》</p>\r\n<p><a href=\"https://github.com/sindresorhus/awesome-nodejs\" target=\"_blank\">https://github.com/sindresorhus/awesome-nodejs</a></p>\r\n<p>《<strong>Node.js Books</strong>》</p>\r\n<p><a href=\"https://github.com/pana/node-books\" target=\"_blank\">https://github.com/pana/node-books</a></p>`\r\n    },{\r\n        title: \"Node.js 名人\",\r\n        content: `<p>《<strong>名人堂</strong>》</p>\r\n<p><a href=\"https://github.com/cnodejs/nodeclub/wiki/%E5%90%8D%E4%BA%BA%E5%A0%82\" target=\"_blank\">https://github.com/cnodejs/nodeclub/wiki/名人堂</a></p>`\r\n    },{\r\n        title: \"Node.js 服务器\",\r\n        content: `<p>新手搭建 Node.js 服务器，推荐使用无需备案的 <a href=\"https://www.digitalocean.com/?refcode=eba02656eeb3\" target=\"_blank\">DigitalOcean(https://www.digitalocean.com/)</a></p>`\r\n}];\r\n\r\nexport default data;","import React, {Component} from 'react';\r\nimport Header from \"../header\";\r\nimport datas from \"./data\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport IndexRouters from \"../../router/indexRouters\";\r\nimport '../index/index.scss'\r\nimport './index.scss'\r\n\r\nclass Book extends Component {\r\n    render() {\r\n        return (\r\n\r\n            <div className=\"index-wrap\">\r\n                <div className=\"main-container\">\r\n                    <div className=\"content\">\r\n                        <div className=\"book-content\">\r\n                            {\r\n                                datas.map(data => {\r\n                                    return <div dangerouslySetInnerHTML={{__html: data.content}}></div>\r\n                                })\r\n                            }\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                    <div className=\"global-side-bar\">\r\n\r\n                    </div>\r\n\r\n\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Book;","import React, {Component} from 'react';\r\n\r\nclass Detail extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                详情\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Detail;","import React, {Component} from 'react';\r\nimport IndexItem from \"../index/indexItem/indexItem\";\r\nimport Axios from \"axios\";\r\nimport URL_PRE from \"../../constant\";\r\nimport {Spin} from \"antd\";\r\n\r\nclass UserCreate extends Component {\r\n\r\n    state = {\r\n        dataResult: null,\r\n        loading: true,\r\n        id: null\r\n    }\r\n\r\n    componentDidMount() {\r\n        const {loginName} = this.props.match.params;\r\n\r\n        let _this = this;\r\n        Axios.get(URL_PRE + '/user/' + loginName)\r\n            .then(res => {\r\n                if (res.data.data && res.data.success) {\r\n                    _this.setState({dataResult: res.data.data, loading: false})\r\n                } else {\r\n\r\n                }\r\n                console.log('UserCreate-获取用户信息', res)\r\n            })\r\n    }\r\n\r\n    render() {\r\n        console.log('UserCreate-render')\r\n        const {loading, dataResult} = this.state;\r\n        if (loading) {\r\n            return <div className='loading-div' /*style={{position: 'absolute'}}*/ style={{height: '100px'}}>\r\n                <Spin size=\"large\" className=\"loading\"/>\r\n            </div>\r\n        }\r\n\r\n        if (dataResult.recent_topics.length === 0) {\r\n            return <div className='loading-div' style={{height: '100px'}}>\r\n                <span style={{margin: 'auto', color: '#B6B6B6'}}>无数据</span>\r\n            </div>\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                {\r\n                    dataResult.recent_topics.map(item => {\r\n                        return <IndexItem key={item.id} {...item}></IndexItem>\r\n                    })\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default UserCreate;","import React, {Component} from 'react';\r\nimport IndexItem from \"../index/indexItem/indexItem\";\r\nimport Axios from \"axios\";\r\nimport URL_PRE from \"../../constant\";\r\nimport {Spin} from \"antd\";\r\n\r\nclass UserReply extends Component {\r\n\r\n    state = {\r\n        dataResult: null,\r\n        loading: true,\r\n        id: null\r\n    }\r\n\r\n    componentDidMount() {\r\n        const {loginName} = this.props.match.params;\r\n\r\n        let _this = this;\r\n        Axios.get(URL_PRE + '/user/' + loginName)\r\n            .then(res => {\r\n                if (res.data.data && res.data.success) {\r\n                    _this.setState({dataResult: res.data.data, loading: false})\r\n                } else {\r\n\r\n                }\r\n                console.log('UserReply-获取用户信息', res)\r\n            })\r\n\r\n    }\r\n\r\n    render() {\r\n        console.log('UserReply-render')\r\n        const {loading, dataResult} = this.state;\r\n        if (loading) {\r\n            return <div className='loading-div' style={{height: '100px'}}>\r\n                <Spin size=\"large\" className=\"loading\"/>\r\n            </div>\r\n        }\r\n\r\n        if (dataResult.recent_replies.length === 0) {\r\n            return <div className='loading-div' style={{height: '100px'}}>\r\n                <span style={{margin: 'auto', color: '#B6B6B6'}}>无数据</span>\r\n            </div>\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                {\r\n                    dataResult.recent_replies.map(item => {\r\n                        return <IndexItem key={item.id} {...item}></IndexItem>\r\n                    })\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default UserReply;","import React, {Component} from 'react';\r\nimport {Switch} from \"react-router\";\r\nimport Route from \"react-router/Route\";\r\nimport IndexList from \"../view/index/indexList\";\r\nimport User from \"../view/user\";\r\nimport UserCreate from \"../view/user/userCreate\";\r\nimport UserReply from \"../view/user/userReply\";\r\n\r\n\r\n//首页路由\r\nclass UserRouters extends Component {\r\n    render() {\r\n        return (\r\n            <Switch>\r\n                <Route path=\"/user/create/:loginName\" component={UserCreate} key='/user/create'></Route>\r\n                <Route path=\"/user/reply/:loginName\" component={UserReply} key='/user/reply'></Route>\r\n            </Switch>\r\n        );\r\n    }\r\n}\r\n\r\nexport default UserRouters;","import React, {Component} from 'react';\r\nimport Axios from \"axios\";\r\nimport URL_PRE from \"../../constant\";\r\nimport {Avatar, Spin, Statistic} from \"antd\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport UserRouters from \"../../router/userRouters\";\r\nimport './index.scss'\r\n\r\nclass User extends Component {\r\n\r\n    state = {\r\n        dataResult: null,\r\n        loading: true,\r\n        id: null\r\n    }\r\n\r\n    componentDidMount() {\r\n        const {loginName} = this.props.match.params;\r\n        console.log('User-componentDidMount-loginName', loginName)\r\n\r\n        let _this = this;\r\n        Axios.get(URL_PRE + '/user/' + loginName)\r\n            .then(res => {\r\n                if (res.data.data && res.data.success) {\r\n                    _this.setState({dataResult: res.data.data, loading: false})\r\n                } else {\r\n\r\n                }\r\n                console.log('User-获取用户信息', res)\r\n            })\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        console.log('User-componentDidUpdate')\r\n\r\n        console.log('User-componentDidUpdate-prevProps', prevProps)\r\n        console.log('User-componentDidUpdate-this.props', this.props)\r\n\r\n        const preLoginName = prevProps.match.params.loginName;\r\n        const {loginName} = this.props.match.params;\r\n        if (preLoginName !== loginName) {\r\n\r\n        }\r\n    }\r\n\r\n    render() {\r\n        console.log('User-render')\r\n        const {loading, dataResult} = this.state;\r\n        if (loading) {\r\n            return <div className='loading-div'>\r\n                <Spin size=\"large\" className=\"loading\"/>\r\n            </div>\r\n        }\r\n\r\n        return (\r\n            <div className=\"index-wrap\">\r\n                <div className=\"main-container\">\r\n                    <div className=\"content\">\r\n                        <div className=\"user-info\" >\r\n                            <Avatar shape=\"square\" size={64} src={dataResult.avatar_url} />\r\n                            <span className=\"user-loginname\">{dataResult.loginname}</span>\r\n                            <Statistic  title='积分' value={dataResult.score} style={{marginLeft: '10px'}}/>\r\n                            {/*<span className=\"user-loginname\">积分: {dataResult.score}</span>*/}\r\n                        </div>\r\n\r\n\r\n                        <div className=\"nav-wrap\">\r\n                            <NavLink to={{pathname: '/user/create/'+ dataResult.loginname, state: {dataResult}} } key={'/user/create/'+ dataResult.loginname} activeClassName='nav-active' className=\"nav\"><span>创建</span></NavLink>\r\n                            <NavLink to={{pathname: '/user/reply/'+ dataResult.loginname, state: {dataResult}} } key={'/user/reply/'+ dataResult.loginname} activeClassName='nav-active' className=\"nav\"><span>回复</span></NavLink>\r\n                        </div>\r\n                        <UserRouters></UserRouters>\r\n\r\n\r\n                        {/*<h2 style={{marginLeft: '15px', marginTop: '15px', color: '#06f'}}>最近创建</h2>\r\n                        {\r\n                            dataResult.recent_topics.map(item => <IndexItem key={item.id} {...item}></IndexItem>)\r\n                        }\r\n                        <h2 style={{marginLeft: '15px', marginTop: '15px', color: '#06f'}}>最近回复</h2>\r\n                        {\r\n                            dataResult.recent_replies.map(item => <IndexItem key={item.id} {...item}></IndexItem>)\r\n                        }*/}\r\n\r\n                    </div>\r\n\r\n                    <div className=\"global-side-bar\">\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default User;","import React, {Component} from 'react';\r\nimport '../index/index.scss'\r\nimport Axios from \"axios\";\r\nimport URL_PRE from \"../../constant\";\r\nimport {Comment, Image, List, Spin, Tag, Tooltip} from \"antd\";\r\nimport './index.scss'\r\nimport {Link} from \"react-router-dom\";\r\nimport moment from 'moment'\r\n//中文引入\r\nimport 'moment/locale/zh-cn'\r\nimport Avatar from \"antd/es/avatar\";\r\nimport UserOutlined from \"@ant-design/icons/lib/icons/UserOutlined\";\r\n\r\nmoment.locale(\"zh-cn\");\r\n\r\nclass Topic extends Component {\r\n\r\n    state = {\r\n        dataResult: null,\r\n        loading: true,\r\n        id: null\r\n    }\r\n\r\n    componentDidMount() {\r\n        const {id} = this.props.match.params;\r\n        console.log('Topic-componentDidMount-id', id)\r\n        this.setState({id: id})\r\n\r\n        let _this = this;\r\n        Axios.get(URL_PRE + '/topic/' + id)\r\n            .then(res => {\r\n                if (res.data.data !== null) {\r\n                    let dataResult = res.data.data;\r\n                    if (dataResult.content) {\r\n                        console.log('dataResult.content-pre', dataResult.content)\r\n                        dataResult.content = dataResult.content.replace(/<img/g,\"<Image\")\r\n                        console.log('dataResult.content-after', dataResult.content)\r\n                    }\r\n\r\n                    _this.setState({dataResult: dataResult, loading: false})\r\n                }\r\n            })\r\n            .catch(res => {\r\n                alert(res)\r\n            });\r\n\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        console.log('Topic-componentDidUpdate', prevState)\r\n        /*let contentEles = document.getElementsByClassName('topic-content');\r\n\r\n        if (contentEles.length > 0) {\r\n            for (const imageElement of contentEles[0].getElementsByTagName('img')) {\r\n                console.log(imageElement)\r\n                imageElement.addEventListener('click', (event) => {\r\n                    // console.log(event)\r\n                })\r\n            }\r\n        }\r\n\r\n\r\n        const {dataResult} = this.state\r\n        if (dataResult && dataResult.content && dataResult.content.indexOf('<img') !== -1) {\r\n            dataResult.content = dataResult.content.replace(/<img/g,\"<Image\")\r\n            this.setState({dataResult: dataResult, loading: false})\r\n        }*/\r\n\r\n\r\n    }\r\n\r\n    render() {\r\n        //console.log('Topic', this.props)\r\n        const {dataResult, loading} = this.state;\r\n\r\n        console.log('topic-render-dataResult', dataResult)\r\n\r\n        if (loading) {\r\n            return <div className='loading-div'>\r\n                <Spin size=\"large\" className=\"loading\"/>\r\n            </div>\r\n        }\r\n\r\n        let tabs = []\r\n\r\n        if (dataResult.top === true) {\r\n            tabs.push('置顶')\r\n        }\r\n\r\n        if (dataResult.good == true) {\r\n            tabs.push('精华')\r\n        }\r\n\r\n\r\n        switch (dataResult.tab) {\r\n            case 'share':\r\n                tabs.push('分享')\r\n                break;\r\n            case 'ask':\r\n                tabs.push('问答')\r\n                break;\r\n        }\r\n\r\n        return (\r\n            <div className=\"index-wrap\">\r\n                <div className=\"main-container\">\r\n                    <div className=\"content\">\r\n                        <div className=\"topic-content-wrap\">\r\n                            <div className=\"title\">\r\n                                {dataResult.title}\r\n                            </div>\r\n\r\n                            <div className=\"topic-author-count-info\">\r\n                                <Link to={'/user/create/' + dataResult.author.loginname}>\r\n                                    <div className=\"topic-author-info\">\r\n                                        <Avatar src={dataResult.author.avatar_url} icon={<UserOutlined />} shape=\"square\"></Avatar>\r\n                                        {/*<img className=\"topic-author-avatar\" src={dataResult.author.avatar_url}>\r\n                                        </img>*/}\r\n                                        <div className=\"topic-login-name\">{dataResult.author.loginname}</div>\r\n                                    </div>\r\n                                </Link>\r\n\r\n                                <div className=\"topic-count-info\">\r\n                                    {/*<Icon type=\"eye\" title=\"浏览量\"/>*/}\r\n                                    <span title=\"浏览量\" className=\"num\">浏览量 {dataResult.visit_count}</span>\r\n                                    <span title=\"回复数\" className=\"num\">回复数 {dataResult.reply_count}</span>\r\n                                    <span className=\"topic-tag\">\r\n                                            {\r\n                                                tabs.map(tab => {\r\n                                                        if (tab === '置顶' || tab === '精华') {\r\n                                                            return <Tag color=\"#1890ff\" key={tab}>{tab}</Tag>\r\n                                                        } else {\r\n                                                            return <Tag key={tab}>{tab}</Tag>\r\n                                                        }\r\n                                                    }\r\n                                                )\r\n                                            }\r\n                                        {/*来自{tabs[tabs.length - 1]}*/}\r\n                                        </span>\r\n\r\n                                    {/*<Tag color=\"#06f\">#f50</Tag>*/}\r\n                                    {/*<div className=\"time\">\r\n                                            <span>{item.last_reply_at.split(\"T\")[0]}</span>\r\n                                        </div>*/}\r\n                                </div>\r\n                            </div>\r\n\r\n\r\n                            <div className=\"topic-content\" dangerouslySetInnerHTML={{__html: dataResult.content}}></div>\r\n\r\n\r\n                            <div className=\"topic-comment\">\r\n                                <List\r\n                                    className=\"comment-list\"\r\n                                    header={`评论区 ${dataResult.replies.length} 回复`}\r\n                                    itemLayout=\"horizontal\"\r\n                                    dataSource={dataResult.replies}\r\n                                    renderItem={item => (\r\n                                        <li>\r\n                                            <Comment\r\n                                                actions={item.actions}\r\n                                                author={\r\n                                                    <Link to={'/user/create/' + item.author.loginname}>\r\n                                                        {item.author.loginname}\r\n                                                    </Link>\r\n\r\n                                                }\r\n                                                avatar={\r\n                                                    <Link to={'/user/create/' + item.author.loginname}>\r\n                                                        <Avatar\r\n                                                            src={item.author.avatar_url}\r\n                                                            alt={item.author.loginname}\r\n                                                            shape=\"square\"\r\n                                                        />\r\n                                                    </Link>\r\n                                                }\r\n                                                content={\r\n                                                    <div className=\"content\"\r\n                                                         dangerouslySetInnerHTML={{__html: item.content}}>\r\n                                                    </div>}\r\n                                                // datetime={item.create_at}\r\n                                                datetime={\r\n                                                    //color=\"#1890FF\"   color\r\n                                                    <Tooltip title={moment(item.create_at).format('YYYY-MM-DD HH:mm:ss')} color=\"#8c8c8c\">\r\n                                                        {/*<span >{moment(item.create_at).subtract(2, 'days').fromNow()}</span>*/}\r\n                                                        <span >{moment(item.create_at).fromNow()}</span>\r\n                                                    </Tooltip>\r\n                                                }\r\n                                            />\r\n                                        </li>\r\n                                    )}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                    <div className=\"global-side-bar\">\r\n\r\n                    </div>\r\n\r\n\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Topic;","import React, {Component} from 'react';\r\nimport {Redirect, Route, Switch} from \"react-router\";\r\nimport Index from '../view/index'\r\nimport About from \"../view/about\";\r\nimport Book from \"../view/book\";\r\nimport Detail from \"../view/detail\";\r\nimport User from \"../view/user\";\r\nimport App from \"../App\";\r\nimport Topic from \"../view/topic\";\r\n\r\n//header路由(总路由)\r\nclass RouterIndex extends Component {\r\n    render() {\r\n        return (\r\n            <Switch>\r\n                <Route path=\"/index/:type\" component={Index}></Route>\r\n                <Route path=\"/about\" component={About}></Route>\r\n                <Route path=\"/book\" component={Book}></Route>\r\n                <Route path=\"/detail\" component={Detail}></Route>\r\n                <Route path=\"/topic/:id\" component={Topic}></Route>\r\n                <Route path=\"/user/create/:loginName\" component={User} exact></Route>\r\n                <Route path=\"/user/reply/:loginName\" component={User} exact></Route>\r\n\r\n                <Redirect to=\"/index/all\" from=\"/\" exact></Redirect>\r\n                <Redirect to=\"/index/all\" from=\"/index\" exact></Redirect>\r\n            </Switch>\r\n        );\r\n    }\r\n}\r\n\r\nexport default RouterIndex;","import React, {Component} from 'react';\r\n\r\nimport './App.scss'\r\nimport Header from \"./view/header\";\r\nimport RouterIndex from \"./router\";\r\nimport { BackTop } from 'antd';\r\n\r\nclass App extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                {/*<BackTop>\r\n                    <div style={style}>UP</div>\r\n                </BackTop>*/}\r\n                <BackTop></BackTop>\r\n                <Header></Header>\r\n                <RouterIndex></RouterIndex>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {BrowserRouter, HashRouter} from \"react-router-dom\";\r\nimport 'antd/dist/antd.css';\r\nimport App from \"./App\";\r\n\r\n\r\nReactDOM.render(\r\n    <HashRouter>\r\n        <App></App>\r\n    </HashRouter>,\r\n    document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}